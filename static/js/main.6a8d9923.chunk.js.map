{"version":3,"sources":["components/Container/Container.jsx","components/Searchbar/Searchbar.jsx","services/api-service.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/ShowError/mistakes.jpg","components/ShowError/ShowError.js","App.js","index.js"],"names":["Container","children","className","Searchbar","onHandleSubmit","onSearchQueryChange","value","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","apiService","query","page","a","axios","get","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onOpenModal","src","alt","onClick","ImageGallery","images","map","id","Button","onLoadMore","LoaderItem","color","height","width","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onToggleModal","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","Component","ErrorView","texterror","role","errorImage","text","App","state","error","isLoading","showModal","searchImages","trim","toast","info","toggleLoader","request","setState","length","handleChange","handleSubmit","preventDefault","scrollPage","dataset","source","toggleModal","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","prevProps","prevState","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6a8d9923.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport \"../Container/Container.css\";\r\n\r\nconst Container = ({ children }) => <div className=\"container\">{children}</div>;\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Container;\r\n","import \"./Searchbar.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Searchbar({ onHandleSubmit, onSearchQueryChange, value }) {\r\n  return (\r\n    <header className=\"header\">\r\n      <form className=\"form\" onSubmit={onHandleSubmit}>\r\n        <button type=\"submit\" className=\"btn\">\r\n          <span className=\"label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"input\"\r\n          type=\"text\"\r\n          value={value}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={onSearchQueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onHandleSubmit: PropTypes.func.isRequired,\r\n  onSearchQueryChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","// key=20826404-6f4526022880cc6e23fc40539\r\nimport axios from \"axios\";\r\n\r\nconst apiService = async (query, page) => {\r\n  const { data } = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=20826404-6f4526022880cc6e23fc40539&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n  return data.hits;\r\n};\r\n\r\nexport default apiService;\r\n","import PropTypes from \"prop-types\";\r\nimport \"./ImageGalleryItem.css\";\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onOpenModal }) {\r\n  return (\r\n    <li className=\"item\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-source={largeImageURL}\r\n        className=\"image\"\r\n        onClick={onOpenModal}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  webformatURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport \"./ImageGallery.css\";\r\n\r\nfunction ImageGallery({ images, onOpenModal }) {\r\n  return (\r\n    <ul className=\"gallery-list\">\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          onOpenModal={onOpenModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport \"./Button.css\";\r\n\r\nfunction Button({ onLoadMore }) {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport \"./Loader.css\";\r\n\r\nfunction LoaderItem() {\r\n  return (\r\n    <div className=\"overlay\">\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={0}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderItem;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Modal.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onToggleModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onToggleModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return createPortal(\r\n      <div className=\"overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"modal\">\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onToggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default __webpack_public_path__ + \"static/media/mistakes.b9d2c1b9.jpg\";","import PropTypes from \"prop-types\";\r\nimport errorImage from \"./mistakes.jpg\";\r\nimport \"./ShowError.css\";\r\n\r\nfunction ErrorView({ texterror }) {\r\n  return (\r\n    <div role=\"alert\" className=\"wrapper\">\r\n      <img src={errorImage} width=\"550\" alt=\"mistakes\" />\r\n      <p text={texterror} className=\"text\">\r\n        {texterror}\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nErrorView.propTypes = {\r\n  texterror: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorView;\r\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport Container from \"./components/Container/Container\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport apiService from \"./services/api-service\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport LoaderItem from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport ErrorView from \"./components/ShowError/ShowError\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    images: [],\n    largeImageURL: \"\",\n    page: 1,\n    error: null,\n    isLoading: false,\n    showModal: false,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({ images: [], page: 1, error: null });\n    }\n  }\n\n  searchImages = async () => {\n    const { query, page } = this.state;\n\n    if (query.trim() === \"\") {\n      return toast.info(\" Please enter search query...\");\n    }\n\n    this.toggleLoader();\n\n    try {\n      const request = await apiService(query, page);\n      this.setState(({ images, page }) => ({\n        images: [...images, ...request],\n        page: page + 1,\n      }));\n      if (request.length === 0) {\n        this.setState({ error: `No results were found for ${query}!` });\n      }\n    } catch (error) {\n      this.setState({ error: \"Ooops... something went wrong. Try again.\" });\n    } finally {\n      this.toggleLoader();\n    }\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.target.value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.searchImages();\n  };\n\n  onLoadMore = () => {\n    this.searchImages();\n    this.scrollPage();\n  };\n\n  onOpenModal = (e) => {\n    this.setState({ largeImageURL: e.target.dataset.source });\n    this.toggleModal();\n  };\n\n  toggleLoader = () => {\n    this.setState(({ isLoading }) => ({\n      isLoading: !isLoading,\n    }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  scrollPage = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight - 160,\n        behavior: \"smooth\",\n      });\n    }, 1000);\n  };\n\n  render() {\n    const { query, images, largeImageURL, isLoading, showModal, error } =\n      this.state;\n\n    return (\n      <Container>\n        <Searchbar\n          onHandleSubmit={this.handleSubmit}\n          onSearchQueryChange={this.handleChange}\n          value={query}\n        />\n\n        {error && <ErrorView texterror={error} />}\n\n        {images.length > 0 && (\n          <ImageGallery images={images} onOpenModal={this.onOpenModal} />\n        )}\n\n        {isLoading && <LoaderItem />}\n\n        {!isLoading && images.length > 0 && (\n          <Button onLoadMore={this.onLoadMore} />\n        )}\n\n        {showModal && (\n          <Modal\n            onToggleModal={this.toggleModal}\n            largeImageURL={largeImageURL}\n          />\n        )}\n        <ToastContainer autoClose={3700} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}